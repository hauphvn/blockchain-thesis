this.depp||function(n,e){depp=function(){var n={},u=function(){},f={},o={},a={},s={},d={};function p(n){throw new Error("Depp Error: "+n)}function r(n,e){var t=function r(n,i){i=i||[];var c=[],o=[];return n.forEach(function(t){if(0<=i.indexOf(t)&&p("Circular reference"),!(t in f))return c.push("#"+t);f[t].forEach(function(n){if("#"==n[0]){var e=i.slice();e.push(t),e=r([n.slice(1)],e),c=c.concat(e[0]),o=o.concat(e[1])}else o.push(n)})}),[c,o]}(n);t[0].length?i(t[0],function(){r(n,e)}):e(t[1])}function i(n,t){var e,r,i=n.length,c=i;if(0==i)return t();for(e=function(n,e){if(e)return t(n);--c||t()};i--;)(r=n[i])in a?e(r,a[r]):(o[r]=o[r]||[]).push(e)}function l(n,e){var t=o[n];if(a[n]=e,t)for(;t.length;)t[0](n,e),t.splice(0,1)}return n.define=function(n){var e;for(var t in n)t in f&&p("Bundle already defined"),e=n[t],f[t]=e.push?e:[e],l("#"+t)},n.config=function(n){for(var e in n)d[e]=n[e]},n.require=function(n,e,t){r(n=n.push?n:[n],function(n){i(n,function(n){n?(t||u)(n):(e||u)()}),n.forEach(function(n){var t,r,i,c,e,o,f;n in s||(s[n]=!0,t=n,r=l,e=document,o=d.before||u,f=t.replace(/^(css|img)!/,""),/(^css!|\.css$)/.test(t)?(i=!0,(c=e.createElement("link")).rel="stylesheet",c.href=f):/(^img!|\.(png|gif|jpg|svg)$)/.test(t)?(c=e.createElement("img")).src=f:((c=e.createElement("script")).src=t,c.async=!1),c.onload=c.onerror=c.onbeforeload=function(n){var e=n.type[0];if(i&&"hideFocus"in c)try{c.sheet.cssText.length||(e="e")}catch(n){18!=n.code&&(e="e")}if("b"==e){if(!n.defaultPrevented)return;e="e"}r(t,"e"==e)},o(t,c),e.head.appendChild(c))})})},n.done=function(n){f[n]=[],l("#"+n)},n.isDefined=function(n){return n in f},n.reset=function(){f={},o={},a={},s={},d={}},n}(),(e=n.createEvent("HTMLEvents")).initEvent?e.initEvent("depp-load",!1,!1):e=new Event("depp-load"),n.dispatchEvent(e)}(document),function(i){var n={callback:function(){},runOnLoad:!0,frequency:100,previousVisibility:null},c={checkVisibility:function(i,n){if(jQuery.contains(document,i[0])){var e=n.previousVisibility,t=i.is(":visible");n.previousVisibility=t;var u=null==e;u?n.runOnLoad&&n.callback(i,t,u):e!==t&&n.callback(i,t,u),setTimeout(function(){c.checkVisibility(i,n)},n.frequency)}}};i.fn.visibilityChanged=function(e){var t=i.extend({},n,e);return this.each(function(){c.checkVisibility(i(this),t)})}}(jQuery),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.timeago=e()}(this,function(){"use strict";var t="second_minute_hour_day_week_month_year".split("_"),e="秒_分钟_小时_天_周_月_年".split("_"),n=[60,60,24,7,365/7/12,12],r={en:function(e,n){if(0===n)return["just now","right now"];var r=t[parseInt(n/2)];return e>1&&(r+="s"),[e+" "+r+" ago","in "+e+" "+r]},zh_CN:function(t,n){if(0===n)return["刚刚","片刻后"];var r=e[parseInt(n/2)];return[t+" "+r+"前",t+" "+r+"后"]}},a=function(t){return parseInt(t)},i=function(t){return t instanceof Date?t:!isNaN(t)||/^\d+$/.test(t)?new Date(a(t)):(t=(t||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(t))},o=function(t,e,i){e=r[e]?e:r[i]?i:"en";for(var o=0,u=t<0?1:0,c=t=Math.abs(t);t>=n[o]&&o<n.length;o++)t/=n[o];return(t=a(t))>(0==(o*=2)?9:1)&&(o+=1),r[e](t,o,c)[u].replace("%s",t)},u=function(t,e){return((e=e?i(e):new Date)-i(t))/1e3},c=function(t,e){return t.getAttribute?t.getAttribute(e):t.attr?t.attr(e):void 0},f=function(t){return c(t,"data-timeago")||c(t,"datetime")},d=[],l=function(t){t&&(clearTimeout(t),delete d[t])},s=function(t){if(t)l(c(t,"data-tid"));else for(var e in d)l(e)},h=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.nowDate=e,this.defaultLocale=n||"en"}return h(t,[{key:"setLocale",value:function(t){this.defaultLocale=t}},{key:"doRender",value:function(t,e,r){var a=this,i=u(e,this.nowDate);t.innerHTML=o(i,r,this.defaultLocale);var c=function(t,e){var n=setTimeout(function(){l(n),t()},e);return d[n]=0,n}(function(){a.doRender(t,e,r)},Math.min(1e3*function(t){for(var e=1,r=0,a=Math.abs(t);t>=n[r]&&r<n.length;r++)t/=n[r],e*=n[r];return a=(a%=e)?e-a:e,Math.ceil(a)}(i),2147483647));!function(t,e){t.setAttribute?t.setAttribute("data-tid",e):t.attr&&t.attr("data-tid",e)}(t,c)}},{key:"render",value:function(t,e){void 0===t.length&&(t=[t]);for(var n=void 0,r=0,a=t.length;r<a;r++)n=t[r],s(n),this.doRender(n,f(n),e)}},{key:"format",value:function(t,e){return o(u(t,this.nowDate),e,this.defaultLocale)}}]),t}(),v=function(t,e){return new p(t,e)};return v.register=function(t,e){r[t]=e},v.cancel=s,v}),depp.define({chartjs:[coinmc.url+"assets/public/js/Chart.min.js"],echarts:[coinmc.url+"assets/public/js/echarts.min.js"],datatable:[coinmc.url+"assets/public/js/jquery.dataTables.min.js"],responsive:[coinmc.url+"assets/public/js/dataTables.responsive.min.js"],fixedcol:[coinmc.url+"assets/public/js/tableHeadFixer.js"],fixedhead:[coinmc.url+"assets/public/js/dataTables.fixedHeader.min.js"],dragscroll:[coinmc.url+"assets/public/js/dragscroll.js"]}),jQuery(function($){var watchlist={get:function(name,fb){var coins=localStorage.getItem("watchlist."+name);return coins?JSON.parse(coins):fb},set:function(name,val){localStorage.setItem("watchlist."+name,JSON.stringify(val))},addremove:function(name,val){var coins=this.get(name,[]),index=coins.indexOf(val),out=!0;return index>-1?(coins.splice(index,1),out=!1):coins.push(val),this.set("coins",coins),out}},realtimes=$('[data-realtime="on"]'),socket=new WebSocket("wss://ws.coincap.io/prices?assets=ALL");function addCommas(nStr){for(var d="US"===coinmc.numformat?".":",",s="US"===coinmc.numformat?",":".",x=(nStr+="").split("."),x1=x[0],x2=x.length>1?d+x[1]:"",rgx=/(\d+)(\d{3})/;rgx.test(x1);)x1=x1.replace(rgx,"$1"+s+"$2");return isNaN(nStr)?"":x1+x2}function commarize(data,format){return"1"==format?formats=[" T"," B"," M"," K"]:"2"==format&&(formats=[" "+coinmc.text.trillion," "+coinmc.text.billion," "+coinmc.text.million," "+coinmc.text.thousand]),"3"!=format?Math.abs(Number(data).toFixed(2))>=1e15?(Math.abs(Number(data))/1e12).toFixed(2)+formats[0]:Math.abs(Number(data))>=1e9?(Math.abs(Number(data))/1e9).toFixed(2)+formats[1]:Math.abs(Number(data))>=1e6?(Math.abs(Number(data))/1e6).toFixed(2)+formats[2]:Math.abs(Number(data))>=1e3?(Math.abs(Number(data))/1e3).toFixed(2)+formats[3]:addCommas(Math.abs(Number(data))):addCommas(Math.abs(Number(data)).toFixed(0))}function rgb2hex(rgb){return(rgb=rgb.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===rgb.length?"#"+("0"+parseInt(rgb[1],10).toString(16)).slice(-2)+("0"+parseInt(rgb[2],10).toString(16)).slice(-2)+("0"+parseInt(rgb[3],10).toString(16)).slice(-2):""}function isBrightness($that){var c=rgb2hex($that.css("background-color")),rgb=parseInt(c.substring(1),16),r,g,b,luma;.2126*(rgb>>16&255)+.7152*(rgb>>8&255)+.0722*(rgb>>0&255)<50&&$that.addClass("invert-act")}if(socket.addEventListener("message",function(msg){var prices=JSON.parse(msg.data);for(var coin in prices)realtimes.find('[data-live-price="'+coin+'"]').each(function(){$(this).realTime(coin,prices[coin])})}),$.fn.realTime=function(coin,priceusd){var self=$(this),timeout=parseInt(self.attr("data-timeout"))||0,difference;if(Math.floor(Date.now())-timeout>5e3){var price=parseFloat(self.data("rate")*priceusd),decimals=price>=1?2:price<1e-6?8:6;coinmc.title&&-1!==coinmc.title.indexOf("{price}")&&coin===coinmc.coin&&(document.title=coinmc.title.replace("{price}",coinmc.fiatprefix+" "+addCommas(price.toFixed(decimals)))),self.find("span").html(addCommas(price.toFixed(decimals))),priceusd>parseFloat(self.attr("data-price"))&&self.animateCss("liveup"),priceusd<parseFloat(self.attr("data-price"))&&self.animateCss("livedown"),self.attr("data-price",priceusd),self.attr("data-timeout",Math.floor(Date.now()))}},$.fn.extend({animateCss:function(animationName,callback){var animationEnd=function(el){var animations={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(var t in animations)if(void 0!==el.style[t])return animations[t]}(document.createElement("div"));return this.addClass("coinmc-animated "+animationName).one(animationEnd,function(){$(this).removeClass("coinmc-animated "+animationName),"function"==typeof callback&&callback()}),this}}),$.fn.invertable=function(){isBrightness($(this));var invertList=["ethereum","ripple","iota","eos","0x","bancor","dentacoin","bibox-token","medishares","santiment","quantstamp","raiden-network-token","pillar","republic-protocol","metal","eidoo","credo","blackmoon","covesting","shivom","suncontract","numeraire","daostack","bitdegree","matryx","faceter","internxt","cryptoping","invacio","chainium","creativecoin","trezarcoin","elcoin-el","jesus-coin","mojocoin","gapcoin","prime-xi","speedcash","veltor","loopring-neo","francs"];$(this).find("img").each(function(){invertList.join("-").toLowerCase().indexOf($(this).attr("alt").toLowerCase())>-1&&$(this).addClass("invertable")})},$(".cdt-table.dark").each(function(){$(this).invertable()}),$.fn.inView=function(){var win=$(window);obj=$(this);var scrollPosition=win.scrollTop(),visibleArea=win.scrollTop()+win.height(),objEndPos=obj.offset().top+obj.outerHeight();return visibleArea>=objEndPos&&scrollPosition<=objEndPos},$.fn.drawChart=function(){var self=$(this);depp.require("chartjs",function(){var rate=self.data("rate")?self.data("rate"):1,symbol=self.data("fiat")?self.data("fiat"):"$",color=self.data("color"),gradient=parseInt(self.data("gradient")),border=parseInt(self.data("border")),opacity=parseFloat(self.data("opacity")),values=self.data("points").split(","),background;if(values=values.map(function(value){var decimals=(value=parseFloat(value)*rate)>=1?2:value<1e-6?8:6;return value.toFixed(decimals)}),background=background||color,0===gradient)var background="rgba("+color+","+opacity+")";else(background=self[0].getContext("2d").createLinearGradient(0,0,0,gradient)).addColorStop(0,"rgba("+color+",0.3)"),background.addColorStop(1,"rgba("+color+",0)");var data={labels:values,datasets:[{data:values,fill:!0,backgroundColor:background,borderColor:"rgb("+color+")",pointBorderColor:"rgb("+color+")",lineTension:.25,pointRadius:0,borderWidth:border}]},options={animation:{duration:500},legend:{display:!1},scales:{xAxes:[{display:!1}],yAxes:[{display:!1}]},tooltips:{mode:"index",intersect:!1,displayColors:!1,callbacks:{label:function(tooltipItem,data){return symbol+" "+addCommas(parseFloat(tooltipItem.xLabel))},title:function(tooltipItem,data){return!1}}},hover:{mode:"nearest",intersect:!0},maintainAspectRatio:!1},chart=new Chart(self[0].getContext("2d"),{type:"line",data:data,options:options})})},$.fn.coinmcTable=function(){var self=this,breakpoint=480,table=self.find(".coinmc-datatable"),prevBtn=self.find(".coinmc-previous-btn"),nextBtn=self.find(".coinmc-next-btn"),allBtn=self.find(".coinmc-all-btn"),searchInput=self.find(".coinmc-search"),pageInfo=self.find(".dataTables_info"),wlistBtn=self.find(".coinmc-wlist-btn"),currency=self.find(".coinmc-currency"),config=table.data("config"),deps=["datatable"];config.fixedcol&&deps.push("fixedcol"),config.fixedhead&&deps.push("fixedhead"),config.responsive?deps.push("responsive"):deps.push("dragscroll"),depp.require(deps,function(){var columns=[],fields=[];table.find("thead th").each(function(index){var column=$(this).data("col");fields.push(column),columns.push({data:column,name:column,render:function(data,type,row,meta){if(void 0===meta.settings.json)return data;switch(column){case"name":var out='<div class="coin"><div class="coin-image"><img src="'+row.img+'" style="max-height: 35px;" alt="'+row.slug+'"></div>';return row.link?out+='<a href="'+row.link+'" class="coin-title"><div class="coin-name">'+data+'</div><div class="coin-symbol">'+row.symbol+"</div></a>":out+='<div class="coin-title"><div class="coin-name">'+data+'</div><div class="coin-symbol">'+row.symbol+"</div></div>",out+="</div>";case"price_usd":var price=parseFloat(row.currate*data),decimals=price>=1?2:price<1e-6?8:6,slug=row.name.split(" ").join("-");return'<span data-live-price="'+(slug=slug.toLowerCase())+'" data-rate="'+row.currate+'" data-price="'+data+'">'+row.cryptofiat+" <span>"+addCommas(price.toFixed(decimals))+"</span></span>";case"price_btc":return"Ƀ "+data;case"market_cap_usd":var num=row.currate*data;return row.cryptofiat+" "+commarize(num,row.priceformat);case"volume_usd_24h":var num,numeral=commarize(num=row.currate*data,row.priceformat);return row.cryptofiat+" "+numeral;case"available_supply":case"total_supply":return commarize(data,row.priceformat);case"percent_change_1h":case"percent_change_24h":case"percent_change_7d":case"percent_change_30d":return'<span class="'+(data>=0?"up":"down")+'">'+data+"%</span>";case"last24h":case"weekly":return'<canvas width="135" height="40" data-rate="'+row.currate+'" data-fiat="'+row.cryptofiat+'" data-color="'+config.chartcolor+'" data-gradient="50" data-border="2" data-points="'+data.join(",")+'"></canvas>';case"actions":var out='<div class="coinmc-dropdown" data-position="bottom-end" data-theme="'+config.theme+'">';return out+='<span class="coinmc-control coinmc-button"><i class="fas fa-ellipsis-h"></i></span>',out+='<ul class="cryptoboxes coinpage coinmc-dropdown__list">',out+='<li class="coinmc-dropdown__item"><a href="javascript:void(0);" data-action="watchlist" data-value="'+row.slug+'"><i class="far fa-star"></i> '+coinmc.text.addtowatchlist+"</a></li>",""!==row.changelly&&row.changelly.includes("changelly.com")?(out+='<li class="coinmc-dropdown__item"><a href="https://changelly.com/exchange/USD/'+row.symbol+"/1?ref_id="+row.changelly.split("?ref_id=")[1]+'" target="_blank" rel="nofollow"><i class="fas fa-shopping-cart"></i> '+coinmc.text.buynow+"</a></li>",out+='<li class="coinmc-dropdown__item"><a href="https://changelly.com/exchange/'+row.symbol+"/BTC/1?ref_id="+row.changelly.split("?ref_id=")[1]+'" target="_blank" rel="nofollow"><i class="fas fa-shopping-cart"></i> '+coinmc.text.sellnow+"</a></li>"):""!==row.changelly&&(out+='<li class="coinmc-dropdown__item"><a href="'+row.changelly+'" target="_blank" rel="nofollow"><i class="fas fa-shopping-cart"></i> '+coinmc.text.buynow+"</a></li>",out+='<li class="coinmc-dropdown__item"><a href="'+row.changelly+'" target="_blank" rel="nofollow"><i class="fas fa-shopping-cart"></i> '+coinmc.text.sellnow+"</a></li>"),out+="</ul>",out+="</div>";default:return data}}})});var fixColumns=["no","rank","name"].filter(function(val){return fields.indexOf(val)>-1}),options={simple:{dom:'r<"loader"><"datatable-scroll"t><"loader loader-footer"><"clear">',order:[],pageLength:config.length,columns:columns,columnDefs:[{targets:"col-name",className:"ctrl text-left all"},{targets:"col-no",className:config.responsive?"text-left min-tablet-p":"text-left",width:"20px",orderable:!1},{targets:"col-rank",className:config.responsive?"text-left min-tablet-p":"text-left",width:"20px"},{targets:"col-price_usd",className:"all"},{targets:"col-weekly",width:"190px","max-width":"190px",className:"chart-wrapper"},{targets:"col-actions",className:"all",orderable:!1,width:"10px"}],language:{processing:"",emptyTable:'<div style="text-align: left;">'+coinmc.text.emptytable+"</div>"},drawCallback:function(oSettings){table.find("canvas").each(function(){$(this).drawChart()}),config.realtime&&socket.addEventListener("message",function(msg){var prices=JSON.parse(msg.data);for(coin in prices)table.find('[data-live-price="'+coin+'"]').each(function(){$(this).realTime(coin,prices[coin])})})}},advanced:{fixedHeader:config.fixedhead,processing:!0,serverSide:!0,deferLoading:config.total,ajax:{url:coinmc.ajax_url,data:{action:"coinmc_table",id:self.attr("id").split("-")[1],coins:[],watchlist:!1,currency:currency.val()}},drawCallback:function(oSettings){config.realtime&&socket.addEventListener("message",function(msg){var prices=JSON.parse(msg.data);for(var coin in prices)table.find('[data-live-price="'+coin+'"]').each(function(){$(this).realTime(coin,prices[coin])})}),table.find("canvas").each(function(){$(this).drawChart()}),table.find(".coinmc-dropdown").each(function(){$(this).coinmcDropdown()}),$(".cdt-table.dark").each(function(){$(this).invertable()});var prevBtnState=Boolean(0!==oSettings._iDisplayStart);prevBtn.toggle(prevBtnState);var nextBtnState=Boolean(oSettings.fnDisplayEnd()!==oSettings.fnRecordsDisplay());nextBtn.toggle(nextBtnState),pageInfo.text("Showing "+(oSettings._iDisplayStart+1)+" - "+oSettings.fnDisplayEnd()+" of "+oSettings.fnRecordsDisplay()+" coins")},initComplete:function(oSettings){var datatable=this,inputTimeout,debounceTime=400;searchInput.on("keyup",function(){clearTimeout(inputTimeout),inputTimeout=setTimeout(function(){datatable.api().search(searchInput.val()).draw()},400)}),prevBtn.click(function(){datatable.api().page("previous").draw("page")}),nextBtn.click(function(){datatable.api().page("next").draw("page")});var coins=watchlist.get("coins",[]);wlistBtn.html('<i class="far fa-star"></i> '+coins.length),wlistBtn.click(function(){$(this).toggleClass("dark",!oSettings.ajax.data.watchlist),oSettings.ajax.data.watchlist=!oSettings.ajax.data.watchlist,oSettings.ajax.data.coins=watchlist.get("coins",[]),datatable.api().draw()}),currency.on("change",function(){oSettings.ajax.data.currency=$(this).val(),datatable.api().draw()}),config.responsive||($(".datatable-scroll").addClass("dragscroll"),dragscroll.reset()),config.fixedhead&&$(".datatable-scroll").on("scroll",function(){datatable.api().fixedHeader.adjust()}),config.fixedcol&&table.tableHeadFixer({left:fixColumns.length,head:!1})}}};config.responsive&&(options.advanced.responsive={details:{type:self.width()<480?"column":"inline",target:"tr"}});var dtOptions=$.extend(options.simple,options[config.type]),tabledt=table.DataTable(dtOptions);tabledt.on("responsive-resize",function(e,datatable,columns){var index=columns[0]?0:1,dtr=["dtr-inline","dtr-column"];table.find("tr td").removeClass("ctrl"),table.find("tbody tr").each(function(){$(this).find("td").eq(index).addClass("ctrl")}),table.removeClass("dtr-column dtr-inline"),table.addClass(dtr[index])}),tabledt.on("processing.dt",function(e,settings,processing){if(processing){var loaderpos=self.find(".cdt-table-tools").inView()?0:1;self.find(".loader").eq(loaderpos).show()}else self.find(".loader").hide()}),tabledt.on("responsive-display",function(e){$(e.currentTarget).find("td.child canvas").parent().addClass("chart-wrapper"),$(e.currentTarget).find("td.child canvas").each(function(){$(this).drawChart()})})})},tippy(".tippy-tooltip",{theme:"dark",arrow:!0,placement:"bottom",animation:"shift-away"}),$.fn.coinmcDropdown=function(){var self=$(this);if($(this).find(".coinmc-dropdown__list").css("min-width",self.width()+"px"),void 0===$(this).find(".coinmc-button")[0]._tippy){tippy($(this).find(".coinmc-button")[0],{placement:$(this).data("position"),animation:"shift-away",theme:$(this).data("theme")+" dropdown",trigger:"click",animateFill:!1,interactive:!0,inertia:!0,distance:5,content:$(this).find(".coinmc-dropdown__list")[0],onShow:function(){self.addClass("coinmc-dropdown-active")},onHide:function(){self.removeClass("coinmc-dropdown-active")}});var tooltip=$(this).find(".coinmc-button")[0]._tippy;$(tooltip.popper).find(".coinmc-dropdown__item a").each(function(){var action;switch($(this).data("action")){case"watchlist":var coins=watchlist.get("coins",[]),texts=[coinmc.text.addtowatchlist,coinmc.text.removefromwatchlist],text=coins.indexOf($(this).data("value"))>-1?texts[1]:texts[0];$(this).html('<i class="far fa-star"></i> '+text)}}),$(tooltip.popper).find(".coinmc-dropdown__item a").on("click",function(){var action;switch($(this).data("action")){case"currency":$(tooltip.reference).html($(this).html()),self.find("input").val($(this).data("value")).trigger("change");break;case"watchlist":var texts=[coinmc.text.addtowatchlist,coinmc.text.removefromwatchlist],result,text=watchlist.addremove("coins",$(this).data("value"))?texts[1]:texts[0];$(this).html('<i class="far fa-star"></i> '+text);var coins=watchlist.get("coins",[]);$(".coinmc-wlist-btn").html('<i class="far fa-star"></i> '+coins.length)}tooltip.hide()})}},$.fn.coinmcResize=function(){var breakpoint="xs",width=this.find(".cmc-row").length>0?this.find(".cmc-row").eq(0).width():this.width();width>=992?breakpoint="lg":width>=768?breakpoint="md":width>=576&&(breakpoint="sm"),this.removeClass("cmcl-xs cmcl-sm cmcl-md cmcl-lg").addClass("cmcl-"+breakpoint),this.trigger("view")},$.fn.coinmcTabs=function(){var self=this;self.find("ul > br").remove(),self.find(".coinmc-tab").eq(0).addClass("active"),self.find(".coinmc-tab-content").eq(0).addClass("active"),self.find(".coinmc-tab-content").eq(0).find(".coinmc-trigger").trigger("view"),self.find(".coinmc-tab").click(function(){self.find(".coinmc-tab").removeClass("active"),$(this).addClass("active"),self.find(".coinmc-tab-content").slideUp(),self.find(".coinmc-tab-content").eq($(this).index()).slideDown(),self.find(".coinmc-tab-content").eq($(this).index()).find(".coinmc-trigger").trigger("view")})},$(".coinmc-chart").one("view",function(){var self=$(this);0!==this.length&&depp.require("echarts",function(){var chartwrapper=self.find(".chart-wrapper"),options=chartwrapper.data("config"),opts=$.extend({type:"chart",coin:"BTC",currency:"USD",fiatprefix:"$",period:"day",theme:"light",smooth:!0,areaColor:"rgba(112,147,254,0.8)",textColor:"#202328",font:"inherit"},options);setInterval(function(){if(sessionStorage.length>0)for(var j=0;j<sessionStorage.length;j++)sessionStorage.key(j).indexOf("mcw-")>-1&&sessionStorage.setItem(sessionStorage.key(j),"")},18e5);var periods={hour:60,day:24,week:168,month:30,year:365,all:2e3},periodnames={hour:"Hour",day:"Day",week:"Week",month:"Month",year:"Year",all:"All"},months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],breakpoint=320,chart=echarts.init(chartwrapper.get(0)),themes,theme={light:{backgroundColor:"#fff",color:"chart"==opts.type&&""!=opts.textColor?[opts.textColor]:"#202328",fontFamily:opts.font,chartColors:"chart"==opts.type?[opts.areaColor]:["rgba(108,130,145,0.2)"],titleColor:"chart"==opts.type?[opts.areaColor]:"#656565",xAxis:"rgba(54,60,78,0.1)",yAxis:"rgba(54,60,78,0.1)",border:"#eee"},dark:{backgroundColor:"#202328",color:"chart"==opts.type&&""!=opts.textColor?[opts.textColor]:"#fff",fontFamily:opts.font,chartColors:"chart"==opts.type?[opts.areaColor]:["rgba(108,130,145,0.2)"],titleColor:"chart"==opts.type?[opts.areaColor]:"#fff",xAxis:"#363c4e",yAxis:"#363c4e",border:"#202328"}}[opts.theme];function getOptions(){var options={animation:!1,backgroundColor:theme.backgroundColor,color:theme.chartColors,textStyle:{color:theme.color,fontFamily:theme.fontFamily},title:{text:opts.coin+"/"+opts.currency,subtext:periodnames[opts.period],textStyle:{color:theme.titleColor}},grid:{left:60,right:"chart"==opts.type?0:60,top:chartwrapper.width()>breakpoint?80:110,bottom:70},tooltip:{trigger:"axis",backgroundColor:"#fff",extraCssText:"box-shadow: 1px 0 0 #e6e6e6, -1px 0 0 #e6e6e6, 0 1px 0 #e6e6e6, 0 -1px 0 #e6e6e6, 0 3px 13px rgba(0,0,0,0.08)",textStyle:{color:"#393939"},formatter:function(params){var tooltip=params[0].name;return"chart"==opts.type?(tooltip+="<br/>",tooltip+=params[0].marker+" Price: <b>"+opts.fiatprefix+addCommas(params[0].value),tooltip+="</b>"):(tooltip+="<br/>",tooltip+=params[0].marker+" High: <b>"+opts.fiatprefix+addCommas(params[0].value[4])+"</b>",tooltip+="  Low: <b>"+opts.fiatprefix+addCommas(params[0].value[3])+"</b>",tooltip+="<br/>",tooltip+=params[0].marker+" Open: <b>"+opts.fiatprefix+addCommas(params[0].value[2])+"</b>",tooltip+="  Close: <b>"+opts.fiatprefix+addCommas(params[0].value[1])+"</b>",tooltip+="<br/>",tooltip+=params[1].marker+" Volume: <b>"+addCommas(params[1].value)+"</b> "+opts.coin),tooltip}},dataZoom:{show:!1,realtime:!0,start:0,end:100},legend:{show:!0,top:"bottom",padding:[10,15]},xAxis:[],yAxis:[],series:[]};return"chart"==opts.type?(options.xAxis.push({type:"category",boundaryGap:!1}),options.yAxis.push({type:"value",scale:!0,axisLabel:{formatter:function(value){return addCommas(value)}},splitLine:{show:!0,lineStyle:{color:theme.yAxis,width:1,type:"solid"}},boundaryGap:["5%","0%"]}),options.series.push({name:"Price",type:"line",smooth:opts.smooth,itemStyle:{normal:{areaStyle:{type:"default"}}}})):(options.xAxis.push({type:"category",boundaryGap:!0,axisTick:{onGap:!1},splitLine:{show:!1}}),options.yAxis.push({type:"value",scale:!1,axisLabel:{formatter:function(value){return addCommas(value)}},splitLine:{show:!1},boundaryGap:["0%","0%"]},{type:"value",scale:!0,axisLabel:{formatter:function(value){return addCommas(value)}},splitLine:{show:!0,lineStyle:{color:theme.yAxis,width:1,type:"solid"}},boundaryGap:["0%","0%"]}),options.series.push({name:"OHLC",type:"k",itemStyle:{normal:{color:"#dc3545",color0:"#23BF08"}},yAxisIndex:1}),options.series.push({name:"Volume",type:"bar"})),chartwrapper.css("background",theme.backgroundColor),chartwrapper.css("border-color",theme.border),options}function getData(callback){var url="https://min-api.cryptocompare.com/data/";url+="hour"===opts.period?"histominute":"day"===opts.period||"week"===opts.period?"histohour":"histoday",url+="?fsym="+opts.coin+"&tsym="+opts.currency,url+="all"===opts.period?"&allData=true":"&limit="+periods[opts.period],url+="&aggregate=1&extraParams=massivecrypto";var stname="mcw-"+opts.coin.toLowerCase()+"-"+opts.currency.toLowerCase()+"-"+opts.period;if(null!==sessionStorage.getItem(stname)&&""!=sessionStorage.getItem(stname)){var json=JSON.parse(sessionStorage.getItem(stname));return callback(json)}$.get(url,function(data){return sessionStorage.setItem(stname,JSON.stringify(data)),callback(data)},"json")}function formatAMPM(date){var hours=date.getHours(),minutes=date.getMinutes(),ampm=hours>=12?"PM":"AM",strTime;return(hours=(hours%=12)||12)+":"+(minutes=minutes<10?"0"+minutes:minutes)+" "+ampm}function drawChart(){chart.showLoading("default",{text:"",color:theme.titleColor,maskColor:theme.backgroundColor}),getData(function(data){if("Success"===data.Response){var options=getOptions(),labels=[],values=[],volumes=[];for(i=0;i<data.Data.length;i++){var date=new Date(1e3*data.Data[i].time),label="";label="day"==opts.period?months[date.getMonth()]+" "+formatAMPM(date):months[date.getMonth()]+" "+date.getDate()+", "+date.getFullYear(),label="hour"==opts.period?formatAMPM(date):label;var value="chart"==opts.type?data.Data[i].close:[data.Data[i].close,data.Data[i].open,data.Data[i].low,data.Data[i].high];labels.push(label),values.push(value),volumes.push(data.Data[i].volumefrom)}if(options.xAxis[0].data=labels,options.series[0].data=values,"candlestick"==opts.type){var zoomstart=Math.round(periods[opts.period]/60*10),zoomshow="candlestick"==opts.type&&zoomstart>10;options.dataZoom.show=zoomshow,options.dataZoom.start="all"==opts.period?0:zoomstart,options.grid.y2=zoomshow?80:40,options.series[1].data=volumes}options.yAxis[0].min="all"==opts.period?0:null,chart.setOption(options,!0),chart.hideLoading()}else{var tabs;["chart","history","markets"].forEach(function(tab){var index=$(".coinmc-"+tab).closest(".coinmc-tab-content").index();$(".coinmc-tab-content").eq(index).remove(),$(".coinmc-tab").eq(index).remove(),$(".coinmc-tabs").each(function(){$(this).coinmcTabs()})})}})}self.find(".coinmc-chart-period .coinmc-filter-button").click(function(){self.find(".coinmc-chart-period .coinmc-filter-button").removeClass("active"),$(this).addClass("active"),opts.period=$(this).data("period"),drawChart()}),self.find(".coinmc-chart-type .coinmc-filter-button").click(function(){self.find(".coinmc-chart-type .coinmc-filter-button").removeClass("active"),$(this).addClass("active"),opts.type=$(this).data("type"),drawChart()}),drawChart(),$(window).on("resize",function(){chart.resize()})})}),$(".coinmc-history").one("view",function(){var self=$(this);depp.require("datatable",function(){$.fn.dataTableExt.oPagination.info_buttons={fnInit:function(e,a,n){var t=e._iDisplayStart+1+" - "+e.fnDisplayEnd()+" of "+e.fnRecordsDisplay(),i=document.createElement("span"),s=document.createElement("span"),o=document.createElement("span");i.appendChild(document.createTextNode(e.oLanguage.oPaginate.sPrevious)),o.appendChild(document.createTextNode(e.oLanguage.oPaginate.sNext)),s.appendChild(document.createTextNode(t)),i.className="paginate_button previous",o.className="paginate_button next",s.className="paginate_button info",a.appendChild(i),a.appendChild(s),a.appendChild(o),$(i).click(function(){e.oApi._fnPageChange(e,"previous"),n(e)}),$(o).click(function(){e.oApi._fnPageChange(e,"next"),n(e)}),$(i).bind("selectstart",function(){return!1}),$(o).bind("selectstart",function(){return!1})},fnUpdate:function(e,a){if(e.aanFeatures.p)for(var n=e.aanFeatures.p,t=0,i=n.length;t<i;t++){var s=n[t].getElementsByTagName("span");s[1].innerText=e._iDisplayStart+1+" - "+e.fnDisplayEnd()+" of "+e.fnRecordsDisplay(),0===e._iDisplayStart?s[0].className="paginate_button previous disabled":s[0].className="paginate_button previous enabled",e.fnDisplayEnd()==e.fnRecordsDisplay()?s[2].className="paginate_button next disabled":s[2].className="paginate_button next enabled"}}};var table=self.find(".coinmc-datatable"),coin=table.data("coin"),currency=table.data("currency"),fiatprefix=table.data("prefix"),dataset=[];function getData(callback){var url="https://min-api.cryptocompare.com/data/histoday?fsym="+coin+"&tsym="+currency+"&limit=365&aggregate=1&extraParams=massivecrypto",stname="mcw-"+coin.toLowerCase()+"-"+currency.toLowerCase()+"-year";if(null!==sessionStorage.getItem(stname)&&""!=sessionStorage.getItem(stname)){var json=JSON.parse(sessionStorage.getItem(stname));return callback(json)}$.get(url,function(data){return sessionStorage.setItem(stname,JSON.stringify(data)),callback(data)},"json")}var columns=[],fields=[],months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function drawTable(){getData(function(data){for(i=0;i<data.Data.length;i++)dataset.push({date:data.Data[i].time,open:data.Data[i].open,close:data.Data[i].close,high:data.Data[i].high,low:data.Data[i].low,volume:data.Data[i].volumeto});var filtered=dataset.slice(-30),tabledt=table.DataTable({dom:'r<"datatable-scroll"t><"loader"><"dataTables-footer"lp><"clear">',scrollX:!0,data:filtered,columns:columns,columnDefs:[{targets:"col-date",className:"text-left"}],order:[[0,"desc"]],pageLength:10,pagingType:"info_buttons",language:{processing:"",lengthMenu:"Rows per page: _MENU_"}});$(".dateselector").flatpickr({mode:"range",static:!0,minDate:(new Date).fp_incr(-365),maxDate:"today",dateFormat:"Y-m-d",defaultDate:[(new Date).fp_incr(-30),"today"],onChange:function(dates,datestr){dates=datestr.split(" to ");var start=new Date(dates[0]).getTime()/1e3,end=dates[1]?new Date(dates[1]).getTime()/1e3:start,filtered=dataset.filter(function(data){return data.date>=start&&data.date<=end});tabledt.clear(),tabledt.rows.add(filtered),tabledt.draw()}})})}table.find("thead th").each(function(index){var column=$(this).data("col");fields.push(column),columns.push({data:column,name:column,render:function(data,type,row,meta){if("sort"===type)return data;switch(column){case"date":var date=new Date(1e3*data);return months[date.getMonth()]+" "+date.getDate()+", "+date.getFullYear();case"open":case"close":case"high":case"low":case"volume":var decimals=data>=1?2:data<1e-6?8:6;return fiatprefix+" "+addCommas(data.toFixed(decimals));default:return data}}})}),drawTable()})}),$(".coinmc-markets").one("view",function(){var self=$(this);depp.require("datatable",function(){$.fn.dataTableExt.oPagination.info_buttons={fnInit:function(e,a,n){var t=e._iDisplayStart+1+" - "+e.fnDisplayEnd()+" of "+e.fnRecordsDisplay(),i=document.createElement("span"),s=document.createElement("span"),o=document.createElement("span");i.appendChild(document.createTextNode(e.oLanguage.oPaginate.sPrevious)),o.appendChild(document.createTextNode(e.oLanguage.oPaginate.sNext)),s.appendChild(document.createTextNode(t)),i.className="paginate_button previous",o.className="paginate_button next",s.className="paginate_button info",a.appendChild(i),a.appendChild(s),a.appendChild(o),$(i).click(function(){e.oApi._fnPageChange(e,"previous"),n(e)}),$(o).click(function(){e.oApi._fnPageChange(e,"next"),n(e)}),$(i).bind("selectstart",function(){return!1}),$(o).bind("selectstart",function(){return!1})},fnUpdate:function(e,a){if(e.aanFeatures.p)for(var n=e.aanFeatures.p,t=0,i=n.length;t<i;t++){var s=n[t].getElementsByTagName("span");s[1].innerText=e._iDisplayStart+1+" - "+e.fnDisplayEnd()+" of "+e.fnRecordsDisplay(),0===e._iDisplayStart?s[0].className="paginate_button previous disabled":s[0].className="paginate_button previous enabled",e.fnDisplayEnd()==e.fnRecordsDisplay()?s[2].className="paginate_button next disabled":s[2].className="paginate_button next enabled"}}};var table=self.find(".coinmc-datatable"),coin=table.data("coin"),currency=table.data("currency"),fiatprefix=table.data("prefix");function getData(callback){var url="https://min-api.cryptocompare.com/data/top/exchanges/full?fsym="+coin+"&tsym="+currency+"&limit=50",stname="cmc-market-"+coin.toLowerCase()+"-"+currency.toLowerCase();if(null!==sessionStorage.getItem(stname)&&""!=sessionStorage.getItem(stname)){var json=JSON.parse(sessionStorage.getItem(stname));return callback(json)}$.get(url,function(data){return sessionStorage.setItem(stname,JSON.stringify(data)),callback(data)},"json")}var columns=[];function drawTable(){getData(function(data){for(var dataset=[],i=0;i<data.Data.Exchanges.length;i++){var ex=data.Data.Exchanges[i];dataset.push({rank:i+1,source:ex.MARKET,pair:ex.FROMSYMBOL+"/"+ex.TOSYMBOL,volume:ex.VOLUME24HOURTO,price:ex.PRICE,change:ex.CHANGE24HOUR,update:ex.LASTUPDATE})}table.DataTable({dom:'r<"datatable-scroll"t><"loader"><"dataTables-footer"lp><"clear">',scrollX:!0,data:dataset,columns:columns,columnDefs:[{targets:"col-rank",className:"text-left"},{targets:"col-source",className:"text-left"}],order:[],pageLength:10,pagingType:"info_buttons",language:{processing:"",lengthMenu:"Rows per page: _MENU_"}})})}table.find("thead th").each(function(index){var column=$(this).data("col");columns.push({data:column,name:column,render:function(data,type,row,meta){if("sort"===type)return data;switch(column){case"change":return data.toFixed(2)+"%";case"volume":case"price":var decimals=data>=1?2:data<1e-6?8:6;return fiatprefix+" "+addCommas(data.toFixed(decimals));case"update":return timeago().format(new Date(1e3*data));default:return data}}})}),drawTable()})}),$(".coinmc-watchlist").each(function(){var coins=watchlist.get("coins",[]),texts=[coinmc.text.addtowatchlist,coinmc.text.removefromwatchlist],text=coins.indexOf($(this).data("value"))>-1?texts[1]:texts[0];$(this).html('<i class="far fa-star"></i> '+text),$(this).click(function(){var result,text=watchlist.addremove("coins",$(this).data("value"))?texts[1]:texts[0];$(this).html('<i class="far fa-star"></i> '+text);var coins=watchlist.get("coins",[]);$(".coinmc-wlist-btn").html('<i class="far fa-star"></i> '+coins.length)})}),$.fn.coinmcCalculator=function(){var self=this;self.find(".coinmc-form-swap").click(function(){self.find(".cmc-row").eq(0).toggleClass("reverse")});var optionone=self.find("input.coinmc-dropdown__input").first(),optiontwo=self.find("input.coinmc-dropdown__input").last(),fieldone=self.find("input.coinmc-field").first(),fieldtwo=self.find("input.coinmc-field").last(),direction="down";function calcdown(){var out="",val=parseFloat(fieldone.val().replace(/,/g,"")),decimals=(out=val?val*optionone.val()*optiontwo.val():"")>=1?2:out<1e-6?8:6;fieldtwo.val(addCommas(out.toFixed(decimals)))}function calcup(){var out="",val=parseFloat(fieldtwo.val().replace(/,/g,"")),decimals=(out=val?val*(1/optiontwo.val())/optionone.val():"")>=1?2:out<1e-6?8:6;fieldone.val(addCommas(out.toFixed(decimals)))}fieldone.on("input",function(){calcdown()}),fieldtwo.on("input",function(){calcup()}),optionone.change(function(){calcup(),direction="up"}),optiontwo.change(function(){calcdown(),direction="down"})},0==$(".coinmc-twitter").length&&0==$(".coinmc-reddit").length){var index=$(".coinmc-social").closest(".coinmc-tab-content").index();$(".coinmc-tab-content").eq(index).remove(),$(".coinmc-tab").eq(index).remove(),$(".coinmc-tabs").each(function(){$(this).coinmcTabs()})}$(".coinmc-twitter").one("view",function(){var handle=$(this).data("handle"),embed='<a class="twitter-timeline" href="https://twitter.com/'+handle+'">Tweets by @'+handle+'</a> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"><\/script>';$(this).append(embed)}),$(".coinmc-reddit").one("view",function(){var self=$(this),url=$(this).data("sub");$.ajax({type:"GET",data:{action:"reddit",sub:url},url:coinmc.ajax_url,success:function(data){self.append(data)}})}),$(".coinmc-ticker").each(function(){$(this).click(function(){$(this).toggleClass("single")}),$(this).hasClass("coinmc-header")&&($("body").css("padding-top",$(this).height()+"px"),$("#wpadminbar").css("margin-top",$(this).height()+"px"))}),$(".coinmc-table").each(function(){$(this).coinmcTable()}),$(".coinmc-dropdown").not("td .coinmc-dropdown").each(function(){$(this).coinmcDropdown()}),$(".coinmc-calculator").each(function(){$(this).coinmcCalculator()}),$(".coinmc-tabs").each(function(){$(this).coinmcTabs()}),$(".coinmc-trigger").each(function(){0==$(this).parents(".coinmc-tabs-content").length&&$(this).trigger("view")}),$(".coingrid").each(function(){var self=this;$(this).coinmcResize(),$(window).resize(function(){$(self).coinmcResize()})})});